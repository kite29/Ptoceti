<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Ptoceti by lathil</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Ptoceti</h1>
        <p>IoT hub</p>

        <p class="view"><a href="https://github.com/lathil/Ptoceti">View the Project on GitHub <small>lathil/Ptoceti</small></a></p>


        <ul>
          <li><a href="https://github.com/lathil/Ptoceti/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/lathil/Ptoceti/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/lathil/Ptoceti">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>
<a name="ptoceti--an-embedable-obix-server" class="anchor" href="#ptoceti--an-embedable-obix-server"><span class="octicon octicon-link"></span></a>Ptoceti : an embedable Obix server</h1>

<p>Ptoceti is a set of Osgi bundles to build a <a href="http://www.obix.org/">Obix</a> server.</p>

<p>Ptoceti is build on top of <a href="www.osgi.org">Osgi</a> R4 and and execute in a jdk 1.7. It needs about 20-30 mb of memory to execute which make it a nice fit for a small form factor Arm computer.</p>

<p>The architecture of the server rest on a consumer / producer pattern so that you can easely provide your own to data to be exposed through your own bundles.
Additionally an embedded <a href="http://sqlite.org">SQLite</a> database is used to record data and serves it through a SPA Javascript style client for interaction in mobile and tablet devices.</p>

<h2>
<a name="ptocetis-modules" class="anchor" href="#ptocetis-modules"><span class="octicon octicon-link"></span></a>Ptoceti's modules</h2>

<p>Ptoceti's main modules are:</p>

<ul>
<li><p>com.ptoceti.osgi.obix.backbones : the single page web application to serve obix content.</p></li>
<li><p>com.ptoceti.osgi.obix : the obix server itself, splitted into two modules, api and impl</p></li>
<li><p>com.ptoceti.osgi.sqlite : the database used by the server</p></li>
<li><p>com.ptoceti.osgi.wireadmin : the messaging system responsible for transiting messages between producer and consumer ( the server and other data provider )</p></li>
<li><p>com.ptoceti.osgi.modbus : a set of two bundles ( modbus and modbusdevice ) capable to connect to a modbus link ( Rs-485 ) and present data to the wire handler.</p></li>
<li><p>com.ptoceti.osgi.pi : a bundle capable to produce data from inside a raspberry Pi; Make use of the <a href="https://github.com/Pi4J/pi4j/">Pi4j project</a>.</p></li>
</ul><h2>
<a name="compatibility-and-requirements" class="anchor" href="#compatibility-and-requirements"><span class="octicon octicon-link"></span></a>Compatibility and requirements</h2>

<p>Currently, Ptoceti need the following modules:</p>

<ul>
<li>rxtxcomm-API 2.1.7</li>
<li>kxml-LIB 2.3.0</li>
<li>pax-web-extender-whiteboard 1.0.12</li>
<li>restlet 2.0.5</li>
<li>guice 2.0</li>
<li>sqlite-jdbc 3.7.15</li>
<li>jackson 2.2</li>
</ul><p>jre or jdk : 1.7</p>

<p>To run, it will need an implementation of Osgi R4. I made it execute on a patch of <a href="/felix.apache.org">Felix</a> and <a href="http://www.knopflerfish.org/">Knopflerfish</a> bundles.
It will also need an implementation of Osgi Http server that can be provided by  <a href="https://github.com/ops4j/org.ops4j.pax.web">Pax Web</a> (Jetty or Apache Tomcat)</p>

<h2>
<a name="getting-started" class="anchor" href="#getting-started"><span class="octicon octicon-link"></span></a>Getting started</h2>

<h3>
<a name="build-from-sources" class="anchor" href="#build-from-sources"><span class="octicon octicon-link"></span></a>Build from sources</h3>

<p>You'll need maven 3.x installed for compiling and packaging the bundles. For building the UX project ( com.ptoceti.osgi.obix.backbones ), you'll need node.js, npm and Grunt installed as well.
Assure that everything is available from the current path and under the shell simply enter</p>

<pre><code>maven clean install
</code></pre>

<h3>
<a name="launch" class="anchor" href="#launch"><span class="octicon octicon-link"></span></a>Launch</h3>

<p>If you want to execute the freshly build bundles for debugging or testing, you can launch a full setup using the include maven-pax-plugin by isuing the command:</p>

<pre><code>maven pax:run
</code></pre>

<p>Once the platform successfully launched, the compiled web application is accessible under <em>http://localhost:8080/obix/client/backbones/index.html</em>
The Osgi console is reachable at <em>http://localhost:8080/system/console</em></p>

<p>If you need to fine tune the launching setup, you can modify the configuration of maven-pax-plugin according to the documention of <a href="https://ops4j1.jira.com/wiki/display/paxrunner/Pax+Runner">Pax Runner</a></p>

<h3>
<a name="develop--debug" class="anchor" href="#develop--debug"><span class="octicon octicon-link"></span></a>Develop / debug</h3>

<p>If you want to modify the web application and see immediate results without having to do a full recompile, the source folder (com.ptoceti.osgi.obix.backbones/src/main/webapp) is available under <em>http://localhost:8080/obix/dev/backbones</em>
For remote java remote debuging, the port 5005 is available. </p>

<h2>
<a name="license" class="anchor" href="#license"><span class="octicon octicon-link"></span></a>License</h2>

<p>Code released under the <a href="http://www.apache.org/licenses/">Apache licence</a></p>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/lathil">lathil</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("&lt;script&gt;   (function(i,s,o,g,r,a,m){i[&#39;GoogleAnalyticsObject&#39;]=r;i[r]=i[r]||function(){   (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),   m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)   })(window,document,&#39;script&#39;,&#39;//www.google-analytics.com/analytics.js&#39;,&#39;ga&#39;);    ga(&#39;create&#39;, &#39;UA-51919257-1&#39;, &#39;lathil.github.io&#39;);   ga(&#39;send&#39;, &#39;pageview&#39;);  &lt;/script&gt;");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>